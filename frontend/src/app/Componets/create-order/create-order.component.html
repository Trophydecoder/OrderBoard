<div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>
  <form [formGroup]="orderForm" (ngSubmit)="sendSlip()" class="order-form">
    <h2><i class="fas fa-receipt"></i> Create Order</h2>
  
    <!-- Customer Information -->
    <div class="form-group">
      <label for="customerName">Customer Name</label>
      <input
        id="customerName"
        formControlName="customerName"
        placeholder="e.g. Sithembiso Mdawe"
      />
    </div>
  
    <div class="form-group">
      <label for="whatsappNumber">WhatsApp Number</label>
      <input
        id="whatsappNumber"
        formControlName="whatsappNumber"
        placeholder="e.g. 0821234567"
      />
    </div>
  
    <!-- Products Section -->
    <div formArrayName="products" class="products-section">
      <h3><i class="fas fa-box-open"></i> Products</h3>
  
      <div
        *ngFor="let product of products.controls; let i = index"
        [formGroupName]="i"
        class="product-row"
      >
        <div class="product-header">
          <p>Product {{ i + 1 }}</p>
          <button
            type="button"
            (click)="removeProduct(i)"
            aria-label="Remove product"
            class="remove-btn"
          >
            <i class="fas fa-trash-alt"></i>
          </button>
        </div>
  
        <div class="form-inline">
          <div class="form-group">
            <label>Product Name</label>
            <input formControlName="productName" placeholder="e.g. T-Shirt" />
          </div>
  
          <div class="form-group">
            <label>Quantity</label>
            <input type="number" formControlName="quantity" min="1" />
          </div>
  
          <div class="form-group">
            <label>Price</label>
            <input type="number" formControlName="price" min="0" />
          </div>
        </div>
      </div>
  
      <button
        type="button"
        class="btn btn-secondary add-product-btn"
        (click)="addProduct()"
      >
        <i class="fas fa-plus-circle"></i> Add Product
      </button>
    </div>
  
  
    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">
      <i class="fas fa-paper-plane"></i> Send Slip
    </button>
  </form>
  